<!DOCTYPE html>
<html lang="it">
<head>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Droid+Serif:wght@400;700&display=swap" rel="stylesheet">
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>La Sala di Griselda</title>

<style>
    :root {
    --gap: 12px;
    --bg: #fff;
    --muted: #666;
    --accent: #111;
}
    body {
        margin: 0;
        font-family: serif;
        display: flex;
        height: 100vh;
        overflow: auto;
    }

    /* --- SLIDESHOW + TEXT PANEL LAYOUT --- */
    .left-panel {
        flex: 2;
        position: relative;
        overflow: hidden;
        background: #f6f6f6;
        display: flex;
    flex-direction: column;
    }

    .right-panel {
        flex: 1;
        overflow-y: auto;
        padding: 1rem 1.5rem 80vh 1.5rem;
        border-left: 2px solid #ddd;
        background: #ffffff;
    }

    /* --- SLIDES WRAPPER --- */
    /* Prevent horizontal scroll in ALL slideshow containers */
.left-panel,
.slideshow-container,
.slides {
    overflow: hidden;
    touch-action: pan-y !important; /* allow vertical scroll only */
}

/* Keep .slides flex as you had it */
.slides {
    display: flex;
    flex: 1;        /* Takes up all space below the header */
    height: auto;   /* Let flex manage the height */
    width: 100%;
    transition: transform 0.5s ease;
    position: relative;
}


    .slide {
        width: 100%;
        height: 100%;
        /* Change padding to make room at the top */
        padding: 3.5rem 2.5rem 1rem 2.5rem; 
        box-sizing: border-box;
        display: grid;
        gap: 10px;
        position: relative; /* Essential for positioning the title */
    }

    /* NEW CLASS FOR THE TITLE */
    .slide-title {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 3.5rem; /* Matches the top padding */
        display: flex;
        justify-content: center;
        align-items: center;
        font-size: 1.8rem;
        font-family: serif; /* Matches your theme */
        font-weight: bold;
        color: #333;
        z-index: 5;
    }

    .meta {
    flex: 0 0 auto; /* Don't stretch */
    background: #ffffff;
    padding: 1rem 2rem 0.5rem 2rem; /* Spacing */
    border-bottom: 1px solid #e0e0e0;
    z-index: 30;
    text-align: left;
    
    /* Inherited font properties */
    font-family: "Droid Serif", serif;
    line-height: 1;
}

.meta-subtitle {
    display: block;
    font-size: 0.85rem;
    color: var(--muted);
    margin-bottom: 0.3rem; /* Small space between subtitle and title */
}

.meta h1 {
    display: block;
    margin: 0;           /* As requested */
    font-size: 1.2rem;   /* As requested */
    font-weight: bold;
    color: var(--accent);
}

    /* Adjust for Mobile so it doesn't take too much space */
    @media (max-width: 900px) {
        .slide {
            padding-top: 2.5rem; /* Smaller space on mobile */
        }
        .slide-title {
            height: 2.5rem;
            font-size: 1.2rem;
        }
    }

    .img-wrapper {
    position: relative;
    width: 100%;
    height: 100%;
    }

    .img-wrapper img {
        width: 100%;
        height: 100%;
        object-fit: cover;
        border: 2px solid #ccc;
        display: block;
    }

    .img-number {
        position: absolute;
        top: 10px;
        left: 10px;
        background: rgba(0,0,0,0.5);
        color: #fff;
        padding: 5px 8px;
        border-radius: 5px;
        font-weight: bold;
        font-size: 1rem;
        z-index: 3;
    }

    /* Highlighted number style */
    .img-number.active-number {
        background-color: #ffeb3b; /* Bright Yellow */
        color: #000;              /* Black text */
        border: 1px solid #000;   /* Definition */
        transform: scale(1.2);    /* Make it slightly larger */
        transition: all 0.3s ease;
        z-index: 10;
    }

    /* Overlay */
    .img-overlay {
    position: absolute;
    top: 2px;
    left: 2px;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.452);
    transition: opacity 0.2s ease;
    z-index: 2;
    pointer-events: none; /* <- this allows clicks to pass through */
    border-radius: 10px;
    }

    /* Hover effect: overlay disappears temporarily */
    .img-wrapper:hover .img-overlay {
        opacity: 0;
    }

    /* Click effect: overlay permanently disappears */
    .img-wrapper img.clicked + .img-overlay {
        opacity: 0;
    }

    img {
    border-radius: 10px;
    }





    /* --- ARROWS --- */
    /* --- ARROWS --- */
.arrow {
        position: absolute;
        /* Center relative to slide area */
        top: 55%; 
        /* Base opacity and transition */
        opacity: 0;
        transition: opacity 0.4s ease, transform 0.4s cubic-bezier(0.25, 1, 0.5, 1), background 0.3s;
        
        font-size: 3rem;
        color: #333;
        cursor: pointer;
        padding: 0.5rem;
        user-select: none;
        z-index: 40;
        background: rgba(255,255,255,0.6);
        border-radius: 8px;
    }

/* NEW: Show arrows when hovering over the Left Panel */
.left-panel:hover .arrow {
        opacity: 1;
        transform: translateY(-50%) translateX(0);
    }

    .arrow:hover {
        background: rgba(255,255,255,0.9);
    }

.arrow-left { 
        left: 10px; 
        transform: translateY(-50%) translateX(-20px);
    }

    /* Right Arrow: Hidden state is shifted +20px right */
    .arrow-right { 
        right: 10px; 
        transform: translateY(-50%) translateX(20px);
    }

/* ---- Slideshow Dots ---- */
.slideshow-dots {
    display: flex;              /* keep dots in a row */
    flex-direction: row;
    justify-content: center;    /* center them */
    align-items: center;
    gap: 8px;                   /* spacing between dots */
    
    position: absolute;         /* your option B */
    bottom: 10px;
    left: 50%;
    transform: translateX(-50%);
    z-index: 20;
}

.slideshow-dot {
    width: 10px;
    height: 10px;
    border-radius: 50%;
    background: #ccc;
    cursor: pointer;
    transition: background 0.3s;
}

.slideshow-dot.active {
    background: #000;
}

/* ---- Mobile adjustments: hide arrows, keep dots ---- */
@media (max-width: 900px) {
    .arrow {
        display: none;   /* hide arrows on mobile */
    }
}



    /* --- IMAGE STYLING --- */
    .slide img {
        width: 100%;
        height: 100%;
        object-fit: cover;
        cursor: pointer;
        border: 2px solid #ccc;
    }

    /* --- TEXT SECTIONS --- */
    .text-section {
        margin-bottom: 2rem;
        padding-bottom: 1rem;
    }

    .text-section h4 {
        margin-top: 0;
    }



    /* Icon before text section */
.image-icon-wrapper {
    display: inline-block;
    margin-bottom: 0.5rem;
}
.image-icon {
    font-size: 1.7rem;
    cursor: pointer;
    display: inline-flex;
    align-items: center;
    gap: 4px;
}

.icon-number {
    font-size: 1rem;
    opacity: 0.8;
}




/* --- LIGHTBOX --- */
.lightbox {
    display: none;  /* <--- This hides it by default */
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0,0,0,0.9);
    z-index: 1000;
    
    /* We REMOVED 'display: flex' from here. 
       JavaScript will add it when you click an image. */
       
    justify-content: center;
    align-items: center;
    flex-direction: column;
}

/* NEW: The Wrapper hugs the image size */
.lightbox-img-wrapper {
    position: relative;
    display: inline-block; /* shrinks to fit the image inside */
    line-height: 0;        /* removes phantom spacing below image */
    overflow: hidden;      /* crops the zoomed image */
    
    /* Maximum limits so it fits on screen */
    max-width: 90vw;
    max-height: 75vh;
    
    border: 3px solid #fff;
    border-radius: 8px;
    cursor: zoom-in;
    
    /* Fix for Safari/Mobile to respect rounded corners during zoom */
    transform: translateZ(0); 
}

.lightbox-img {
    /* Image constrains the wrapper size */
    display: block;
    max-width: 100%;
    max-height: 75vh; /* Match wrapper max-height */
    width: auto;
    height: auto;
    object-fit: contain;
    
    /* Zoom Transition */
    transition: transform 0.3s ease;
    transform-origin: center center;
    pointer-events: none; /* Passes clicks to wrapper */
}

/* ZOOM STATE */
.lightbox-img-wrapper.zoomed {
    cursor: zoom-out;
}

.lightbox-img-wrapper.zoomed .lightbox-img {
    transform: scale(2.5); /* The Zoom Factor */
}

.lightbox-caption {
    color: #fff;
    font-size: 1rem;
    text-align: center;
    font-family: "Droid Serif", serif;
    margin-top: 15px;
    max-width: 80%;
}

.close-lightbox {
    position: absolute;
    top: 20px;
    right: 30px;
    font-size: 3rem;
    color: #fff;
    cursor: pointer;
    z-index: 1001;
    line-height: 1;
}




    /* --- RESPONSIVE --- */
   @media (max-width: 900px) {
  .left-panel {
    position: fixed;
    left: 0;
    right: 0;
    top: 0;
    z-index: 999;
    width: 100%;
    height: 40vh;      /* fixed height you choose */
    overflow-y: auto;          /* FIX */
    overflow-x: hidden;        /* FIX */
    touch-action: pan-y !important; /* FIX */
    background: white;
  }

  .img-number {
        font-size: 0.7rem;    /* make the number smaller */
        padding: 2px 4px;     /* reduce interior space */
        top: 4px;             /* move closer to the corner */
        left: 4px;
        border-radius: 3px;   /* match smaller size */
    }

  /* push the content below the fixed slideshow */
  .right-panel {
    margin-top: 40vh;  /* same value as .left-panel height */
  }

  .arrow {
        display: none;   /* hide arrows on mobile */
    }

    .text-section {
          /* The slideshow is 40vh tall. 
             We set scroll-margin-top to 42vh (40vh + a little buffer)
             so the text lands just below the image, not behind it.
          */
          scroll-margin-top: 38vh; 
      }

      .slide {
        padding: 3rem 0.5rem 0.5rem 0.5rem; 
    }

    .meta {
        padding: 0.8rem 1rem 0 1rem;
    }

    .slide-title {
        /* Move the "Parete" title slightly down if it overlaps */
        top: 0.5rem;
        font-size: 1rem;
    }

    .meta-subtitle {
        font-size: 0.7rem; /* Smaller than 0.85rem */
    }
    .meta h1 {
        font-size: 1rem;   /* Smaller than 1.2rem */
    }

}



</style>
</head>

<body>

<!-- LEFT PANEL (SLIDESHOW) -->
<div class="left-panel">

    <div class="meta">
        <div class="meta-subtitle">CASTELLO SFORZESCO, MILANO</div>
        <h1>La Sala di Griselda</h1>
    </div>

    <!-- ARROWS -->
    <div class="arrow arrow-left" id="prevArrow">&#10094;</div>
    <div class="arrow arrow-right" id="nextArrow">&#10095;</div>

    <!-- SLIDES -->
    <div class="slides" id="slides">

        <!-- ========================= -->
        <!--          PARETE 1         -->
        <!-- ========================= -->
        <div class="slide" style="grid-template-columns: repeat(3,1fr); grid-template-rows: repeat(2,1fr);">
            <div class="slide-title">Parete I</div>

            <!-- Row 1 -->
            <div class="img-wrapper">
                <span class="img-number">11</span>
                <img src="https://cdn.prod.website-files.com/68154893f0097f15b764dc20/68169975cfb70153ec92d0d9_Pinacoteca_del_Castello_Sforzesco_1347.11.jpg" data-target="text-11" style="grid-row:1;grid-column:1;">
                <div class="img-overlay"></div>
            </div>


            <div class="img-wrapper">
                <span class="img-number">1</span>
                <img src="https://cdn.prod.website-files.com/68154893f0097f15b764dc20/68169831d11930a2cac2ba36_Pinacoteca_del_Castello_Sforzesco_1347.01.jpg"  data-target="text-1"  style="grid-row:1;grid-column:2;">
                <div class="img-overlay"></div>
            </div>


            <div class="img-wrapper">
                <span class="img-number">2</span>
                <img src="https://cdn.prod.website-files.com/68154893f0097f15b764dc20/68169956cef286fbcebf0e1f_Pinacoteca_del_Castello_Sforzesco_1347.02.jpg"  data-target="text-2"  style="grid-row:1;grid-column:3;">
                <div class="img-overlay"></div>
            </div>


            
            

            <!-- Row 2 -->
            <div class="img-wrapper">
                <span class="img-number">24</span>
                <img src="https://cdn.prod.website-files.com/68154893f0097f15b764dc20/6816996e5595550135306d24_Pinacoteca_del_Castello_Sforzesco_1347.23.jpg" data-target="text-24" style="grid-row:2;grid-column:1;">
                <div class="img-overlay"></div>
            </div>
            


            <div style="
                grid-row:2;
                grid-column:2;
                display:grid;
                grid-template-columns: repeat(3,1fr);
                grid-template-rows: repeat(2,1fr);
                gap:10px;
            ">

                <!-- Subgrid -->
                 
                <div class="img-wrapper" style="grid-row:1 / span 2; grid-column:1;">
                    <span class="img-number">23</span>
                    <img src="https://cdn.prod.website-files.com/68154893f0097f15b764dc20/6816996e936df625258e5efc_Pinacoteca_del_Castello_Sforzesco_1347.24.jpg" 
                        data-target="text-23">
                    <div class="img-overlay"></div>
                </div>
                <div class="img-wrapper" style="grid-row:1; grid-column:2;">
                    <span class="img-number">12</span>
                    <img src="https://cdn.prod.website-files.com/68154893f0097f15b764dc20/68169974936df625258e6156_Pinacoteca_del_Castello_Sforzesco_1347.12.jpg" data-target="text-12">
                    <div class="img-overlay"></div>
                </div>
                <div class="img-wrapper" style="grid-row:1 / span 2; grid-column:3;">
                    <span class="img-number">13</span>
                    <img src="https://cdn.prod.website-files.com/68154893f0097f15b764dc20/681699752b10b43b94e2f09e_Pinacoteca_del_Castello_Sforzesco_1347.13.jpg" data-target="text-13">
                    <div class="img-overlay"></div>
                </div>
                
            </div>

            <div class="img-wrapper">
                <span class="img-number">14</span>
                <img src="https://cdn.prod.website-files.com/68154893f0097f15b764dc20/68169975212928bd854f6db2_Pinacoteca_del_Castello_Sforzesco_1347.14.jpg" data-target="text-14" style="grid-row:2;grid-column:3;">
                <div class="img-overlay"></div>
            </div>
            

        </div>

        <!-- ========================= -->
        <!--          PARETE 2         -->
        <!-- ========================= -->
        <div class="slide" style="grid-template-columns: repeat(3,1fr); grid-template-rows: repeat(2,1fr);">
            <div class="slide-title">Parete II</div>

            <!-- Row 1 -->

            <div class="img-wrapper">
                <span class="img-number">3</span>
                <img src="https://cdn.prod.website-files.com/68154893f0097f15b764dc20/6816996fea635a73120adfaf_Pinacoteca_del_Castello_Sforzesco_1347.03.jpg" data-target="text-3" style="grid-row:1;grid-column:1;">
                <div class="img-overlay"></div>
            </div>
            
            <div style="grid-row:1;grid-column:2;"></div>

            <div class="img-wrapper">
                <span class="img-number">4</span>
                <img src="https://cdn.prod.website-files.com/68154893f0097f15b764dc20/6816996f7ee8c804a2b17945_Pinacoteca_del_Castello_Sforzesco_1347.04.jpg" data-target="text-4" style="grid-row:1;grid-column:3;">
                <div class="img-overlay"></div>
            </div>
            

            <!-- Row 2 -->
            <div class="img-wrapper">
                <span class="img-number">15</span>
                <img src="https://cdn.prod.website-files.com/68154893f0097f15b764dc20/68169977d11930a2cac35c74_Pinacoteca_del_Castello_Sforzesco_1347.15.jpg" data-target="text-15" style="grid-row:2;grid-column:1;">
                <div class="img-overlay"></div>
            </div>
            
            <div style="grid-row:2;grid-column:2;"></div>
            
            <div class="img-wrapper">
                <span class="img-number">16</span>
                <img src="https://cdn.prod.website-files.com/68154893f0097f15b764dc20/68169977ce49b69b94cae8da_Pinacoteca_del_Castello_Sforzesco_1347.16.jpg" data-target="text-16" style="grid-row:2;grid-column:3;">
                <div class="img-overlay"></div>
            </div>
            

        </div>

        <!-- ========================= -->
        <!--          PARETE 3         -->
        <!-- ========================= -->
        <div class="slide" style="grid-template-columns: repeat(3,1fr); grid-template-rows: repeat(2,1fr);">
            <div class="slide-title">Parete III</div>

            <!-- Row 1 -->
            <div class="img-wrapper">
                <span class="img-number">5</span>
                <img src="https://cdn.prod.website-files.com/68154893f0097f15b764dc20/6816996f032cc8cd98b888e6_Pinacoteca_del_Castello_Sforzesco_1347.05.jpg" data-target="text-5" style="grid-row:1;grid-column:1;">
                <div class="img-overlay"></div>
            </div>

            <div class="img-wrapper">
                <span class="img-number">6</span>
                <img src="https://cdn.prod.website-files.com/68154893f0097f15b764dc20/6816996f16bb926081d8494d_Pinacoteca_del_Castello_Sforzesco_1347.06.jpg" data-target="text-6" style="grid-row:1;grid-column:2;">
                <div class="img-overlay"></div>
            </div>

            <div class="img-wrapper">
                <span class="img-number">7</span>
                <img src="https://cdn.prod.website-files.com/68154893f0097f15b764dc20/681699724d966f2665a38b93_Pinacoteca_del_Castello_Sforzesco_1347.07.jpg" data-target="text-7" style="grid-row:1;grid-column:3;">
                <div class="img-overlay"></div>
            </div>
            
            
            

            <!-- Row 2 -->
            <div class="img-wrapper">
                <span class="img-number">17</span>
                <img src="https://cdn.prod.website-files.com/68154893f0097f15b764dc20/6816996d936df625258e5ea2_Pinacoteca_del_Castello_Sforzesco_1347.17.jpg" data-target="text-17" style="grid-row:2;grid-column:1;">
                <div class="img-overlay"></div>
            </div>

            <div class="img-wrapper">
                <span class="img-number">18</span>
                <img src="https://cdn.prod.website-files.com/68154893f0097f15b764dc20/6816996dc6459a395628db58_Pinacoteca_del_Castello_Sforzesco_1347.18.jpg" data-target="text-18" style="grid-row:2;grid-column:2;">
                <div class="img-overlay"></div>
            </div>


            <div class="img-wrapper">
                <span class="img-number">19</span>
                <img src="https://cdn.prod.website-files.com/68154893f0097f15b764dc20/6816996cee9f0a01142e850c_Pinacoteca_del_Castello_Sforzesco_1347.19.jpg" data-target="text-19" style="grid-row:2;grid-column:3;">
                <div class="img-overlay"></div>
            </div>
            
            

        </div>

        <!-- ========================= -->
        <!--          PARETE 4         -->
        <!-- ========================= -->
        <div class="slide" style="grid-template-columns: repeat(3,1fr); grid-template-rows: repeat(2,1fr);">
            <div class="slide-title">Parete IV</div>

            <!-- Row 1 -->
            <div class="img-wrapper" style="grid-row:1;grid-column:1;">
                <span class="img-number">8</span>
                <img src="https://cdn.prod.website-files.com/68154893f0097f15b764dc20/68169972623192bfdb92897a_Pinacoteca_del_Castello_Sforzesco_1347.08.jpg" data-target="text-8">
                <div class="img-overlay"></div>
            </div>


            <div class="img-wrapper">
                <span class="img-number">9</span>
                <img src="https://cdn.prod.website-files.com/68154893f0097f15b764dc20/68169972cda64534a038715d_Pinacoteca_del_Castello_Sforzesco_1347.09.jpg" data-target="text-9" style="grid-row:1;grid-column:2;">
                <div class="img-overlay"></div>
            </div>


            <div class="img-wrapper">
                <span class="img-number">10</span>
                <img src="https://cdn.prod.website-files.com/68154893f0097f15b764dc20/68169972032cc8cd98b88a6a_Pinacoteca_del_Castello_Sforzesco_1347.10.jpg" data-target="text-10" style="grid-row:1;grid-column:3;">
                <div class="img-overlay"></div>
            </div>

            
            
            

            <!-- Row 2 -->
            <div class="img-wrapper">
                <span class="img-number">20</span>
                <img src="https://cdn.prod.website-files.com/68154893f0097f15b764dc20/6816996cf7a8aada9a8d8973_Pinacoteca_del_Castello_Sforzesco_1347.20.jpg" data-target="text-20" style="grid-row:2;grid-column:1;">
                <div class="img-overlay"></div>
            </div>

            <div class="img-wrapper">
                <span class="img-number">21</span>
                <img src="https://cdn.prod.website-files.com/68154893f0097f15b764dc20/6816996d4a5d9978b3772242_Pinacoteca_del_Castello_Sforzesco_1347.21.jpg" data-target="text-21" style="grid-row:2;grid-column:2;">
                <div class="img-overlay"></div>
            </div>

            <div class="img-wrapper">
                <span class="img-number">22</span>
                <img src="https://cdn.prod.website-files.com/68154893f0097f15b764dc20/6816996d7ee8c804a2b178d0_Pinacoteca_del_Castello_Sforzesco_1347.22.jpg" data-target="text-22" style="grid-row:2;grid-column:3;">
                <div class="img-overlay"></div>
            </div>
            

        </div>

    </div>
    <div id="slideshow-dots" class="slideshow-dots"></div>

</div>

<!-- RIGHT PANEL: TEXT CONTENT -->
<div class="right-panel" id="textPanel">

    <div class="text-section" id="text-intro">
    <h2><i>Decameron</i>, X 10</h2>

    <p>Il marchese di Saluzzo, da’ prieghi de’ suoi uomini costretto di pigliar moglie, per prenderla a suo modo, piglia una figliuola d’un villano, della quale ha due figliuoli, li quali le fa veduto d’uccidergli; poi, mostrando lei essergli rincresciuta ed avere altra moglie presa, a casa faccendosi ritornare la propria figliuola come se sua moglie fosse, lei avendo in camiscia cacciata e ad ogni cosa trovandola paziente, piú cara che mai in casa tornatalasi, i suoi figliuoli grandi le mostra e come marchesana l’onora e fa onorare.</p>

    <p>Finita la lunga novella del re, molto a tutti nel sembiante piaciuta, Dioneo ridendo disse: — Il buono uomo, che aspettava la seguente notte di fare abbassare la coda ritta della fantasima, avrebbe dati men di due denari di tutte le lode che voi date a messer Torello. — Ed appresso, sappiendo che a lui solo restava il dire, incominciò:</p>
    
    <p>Mansuete mie donne, per quel che mi paia, questo dí d’oggi è stato dato a re ed a soldani ed a cosí fatta gente: e per ciò, acciò che io troppo da voi non mi scosti, vo’ ragionar d’un marchese non una cosa magnifica ma una matta bestialitá, come che ben ne gli seguisse alla fine; la quale io non consiglio alcun che segua, per ciò che gran peccato fu che a costui ben n’avvenisse.</p>
    </div>

    <div class="text-section" id="text-1">
        <!-- Icon before text -->
        <div class="image-icon-wrapper">
            <p>
            <span class="image-icon" data-full="https://cdn.prod.website-files.com/68154893f0097f15b764dc20/68169831d11930a2cac2ba36_Pinacoteca_del_Castello_Sforzesco_1347.01.jpg" data-caption="This is the caption for the first image">&#x26F6;</span><span class="icon-number">1</span>
            <!-- &#x26F6; is a framed picture emoji, acts as an icon -->
        <br>Già è gran tempo, fu tra’ marchesi di Saluzzo il maggior della casa un giovane chiamato Gualtieri, il quale, essendo senza moglie e senza figliuoli, in niuna altra cosa il suo tempo spendeva che in uccellare ed in cacciare, né di prender moglie né d’aver figliuoli alcun pensiero avea; di che egli era da reputar molto savio. La qual cosa a’ suoi uomini non piacendo, piú volte il pregaron che moglie prendesse, acciò che egli senza erede né essi senza signor rimanessero, offerendosi di trovargliel tale e di sí fatto padre e madre discesa, che buona speranza se ne potrebbe avere, ed esso contentarsene molto. A’ quali Gualtieri rispose: — Amici miei, voi mi strignete a quello che io del tutto aveva disposto di non far mai, considerando quanto grave cosa sia a poter trovare chi co’ suoi costumi ben si convenga, e quanto del contrario sia grande la copia, e come dura vita sia quella di colui che a donna non bene a sé conveniente s’abbatte. Ed il dire che voi vi crediate a’ costumi de’ padri e delle madri le figliuole conoscere, donde argomentate di darlami tal che mi piacerá, è una sciocchezza, con ciò sia cosa che io non sappia dove i padri possiate conoscere, né come i segreti delle madri di quelle: quantunque, pur conoscendogli, sieno spesse volte le figliuole a’ padri ed alle madri dissimili. Ma poi che pure in queste catene vi piace d’annodarmi, ed io voglio esser contento: ed acciò che io non abbia da dolermi d’altrui che di me, se mal venisse fatto, io stesso ne voglio essere il trovatore, affermandovi che, cui che io mi tolga, se da voi non fia come donna onorata, voi proverete con gran vostro danno quanto grave mi sia l’aver contra mia voglia presa mogliere a’ vostri prieghi. — I valenti uomini risposon che eran contenti, sol che esso si recasse a prender moglie.</p>
        </div>
    </div>

    <div class="text-section" id="text-2">
        <div class="image-icon-wrapper">
            <p>
            <span class="image-icon" data-full="https://cdn.prod.website-files.com/68154893f0097f15b764dc20/68169956cef286fbcebf0e1f_Pinacoteca_del_Castello_Sforzesco_1347.02.jpg" data-caption="This is the caption for the second image">&#x26F6;</span><span class="icon-number">2</span>
        <br>Erano a Gualtieri buona pezza piaciuti i costumi d’una povera giovanetta che d’una villa vicina a casa sua era, e parendogli bella assai, estimò che con costei dovesse potere aver vita assai consolata; e per ciò, senza piú avanti cercare, costei propose di volere sposare: e fattosi il padre chiamare, con lui, che poverissimo era, si convenne di tôrla per moglie. Fatto questo, fece Gualtieri tutti i suoi amici della contrada adunare, e disse loro: — Amici miei, egli v’è piaciuto e piace che io mi disponga a tôr moglie, ed io mi vi son disposto piú per compiacere a voi che per disidèro che io di moglie avessi. Voi sapete quello che voi mi prometteste, cioè d’esser contenti e d’onorar come donna, qualunque quella fosse che io togliessi; e per ciò venuto è il tempo che io sono per servare a voi la promessa e che io voglio che voi a me la serviate. Io ho trovata una giovane secondo il cuor mio, assai presso di qui, la quale io intendo di tôr per moglie e di menarlami tra qui e pochi dí a casa: e per ciò pensate come la festa delle nozze sia bella e come voi onorevolmente riceverla possiate, acciò che io mi possa della vostra promession chiamar contento come voi della mia vi potrete chiamare. — I buoni uomini lieti tutti risposero ciò piacer loro e che, fosse chi volesse, essi l’avrebber per donna ed onorerebbonla in tutte cose sí come donna; ed appresso questo, tutti si misero in assetto di far bella e grande e lieta festa, ed il simigliante fece Gualtieri.</p>
        </div>
    </div>


    <div class="text-section" id="text-3">
        <div class="image-icon-wrapper">
            <p>
            <span class="image-icon" data-full="https://cdn.prod.website-files.com/68154893f0097f15b764dc20/6816996fea635a73120adfaf_Pinacoteca_del_Castello_Sforzesco_1347.03.jpg" data-caption="This is the caption for the second image">&#x26F6;</span>
        <span class="icon-number">3</span>

        <br>Egli fece preparar le nozze grandissime e belle, ed invitarvi molti suoi amici e parenti e gran gentili uomini ed altri da torno: ed oltre a questo, fece tagliare e far piú robe belle e ricche al dosso d’una giovane la quale della persona gli pareva che la giovanetta la quale avea proposto di sposare, ed oltre a questo, apparecchiò cinture ed anella ed una ricca e bella corona, e tutto ciò che a novella sposa si richiedea.</p></div>
    </div>


    <div class="text-section" id="text-4">
        <div class="image-icon-wrapper">
            <p>
            <span class="image-icon" data-full="https://cdn.prod.website-files.com/68154893f0097f15b764dc20/6816996f7ee8c804a2b17945_Pinacoteca_del_Castello_Sforzesco_1347.04.jpg" data-caption="This is the caption for the second image">&#x26F6;</span>
        <span class="icon-number">4</span>

        <br>E venuto il dì che alle nozze predetto avea, Gualtieri in su la mezza terza montò a cavallo, e ciascuno altro che ad onorarlo era venuto; ed ogni cosa opportuna avendo disposta, disse: — Signori, tempo è d’andare per la novella sposa. —</p></div>
    </div>


    <div class="text-section" id="text-5">
        <div class="image-icon-wrapper">
            <p>
            <span class="image-icon" data-full="https://cdn.prod.website-files.com/68154893f0097f15b764dc20/6816996f032cc8cd98b888e6_Pinacoteca_del_Castello_Sforzesco_1347.05.jpg" data-caption="This is the caption for the second image">&#x26F6;</span>
        <span class="icon-number">5</span>

        <br>E messosi in via con tutta la compagnia sua, pervennero alla villetta: e giunti a casa del padre della fanciulla, e lei trovata che con acqua tornava dalla fonte in gran fretta, per andar poi con altre femine a veder venire la sposa di Gualtieri; la quale come Gualtier vide, chiamatala per nome, cioè Griselda, domandò dove il padre fosse; al quale ella vergognosamente rispose: — Signor mio, egli è in casa. —</p></div>
    </div>



    <div class="text-section" id="text-6">
        <div class="image-icon-wrapper">
            <p>
            <span class="image-icon" data-full="https://cdn.prod.website-files.com/68154893f0097f15b764dc20/6816996f16bb926081d8494d_Pinacoteca_del_Castello_Sforzesco_1347.06.jpg" data-caption="This is the caption for the second image">&#x26F6;</span>
        <span class="icon-number">6</span>

        <br>Allora Gualtieri, smontato e comandato ad ogni uom che l’aspettasse, solo se n’entrò nella povera casa, dove trovò il padre di lei, che avea nome Giannucolo, e dissegli: — Io sono venuto a sposar la Griselda, ma prima da lei voglio sapere alcuna cosa in tua presenza. — E domandolla se ella sempre, togliendola egli per moglie, s’ingegnerebbe di compiacergli e di niuna cosa che egli dicesse o facesse non turbarsi, e se ella sarebbe obediente e simili altre cose assai, delle quali ella a tutte rispose del sì.</p></div>
    </div>

    
    <div class="text-section" id="text-7">
        <div class="image-icon-wrapper">
            <p>
            <span class="image-icon" data-full="https://cdn.prod.website-files.com/68154893f0097f15b764dc20/681699724d966f2665a38b93_Pinacoteca_del_Castello_Sforzesco_1347.07.jpg" data-caption="This is the caption for the second image">&#x26F6;</span>
       <span class="icon-number">7</span>

        <br>Allora Gualtieri, presala per mano, la menò fuori, ed in presenza di tutta la sua compagnia e d’ogni altra persona la fece spogliare ignuda: e fattisi quegli vestimenti venire che fatti aveva fare, prestamente la fece vestire e calzare, e sopra i suoi capelli, cosí scarmigliati come erano, le fece mettere una corona, ed appresso questo, maravigliandosi ogni uomo di questa cosa, disse: — Signori, costei è colei la quale io intendo che mia moglie sia, dove ella me voglia per marito. —</p> </div>
    </div>


    <div class="text-section" id="text-8">
        <div class="image-icon-wrapper">
            <p>
            <span class="image-icon" data-full="https://cdn.prod.website-files.com/68154893f0097f15b764dc20/68169972623192bfdb92897a_Pinacoteca_del_Castello_Sforzesco_1347.08.jpg" data-caption="This is the caption for the second image">&#x26F6;</span>
        <span class="icon-number">8</span>

        <br>E poi, a lei rivolto che di se medesima vergognosa e sospesa stava, le disse: — Griselda, vuoimi tu per tuo marito? — A cui ella rispose: — Signor mio, sí. — Ed egli disse: — Ed io voglio te per mia moglie. — Ed in presenza di tutti la sposò:</p></div>
    </div>


    <div class="text-section" id="text-9">
        <div class="image-icon-wrapper">
            <p>
            <span class="image-icon" data-full="https://cdn.prod.website-files.com/68154893f0097f15b764dc20/68169972cda64534a038715d_Pinacoteca_del_Castello_Sforzesco_1347.09.jpg" data-caption="This is the caption for the second image">&#x26F6;</span>
        <span class="icon-number">9</span>

        <br>e fattala sopra un pallafren montare, orrevolmente accompagnata, a casa la si menò.</p></div>
    </div>


    <div class="text-section" id="text-10">
        <div class="image-icon-wrapper">
            <p>
            <span class="image-icon" data-full="https://cdn.prod.website-files.com/68154893f0097f15b764dc20/68169972032cc8cd98b88a6a_Pinacoteca_del_Castello_Sforzesco_1347.10.jpg" data-caption="This is the caption for the second image">&#x26F6;</span>
        <span class="icon-number">10</span>

        <br>Quivi furon le nozze belle e grandi e la festa non altramenti che se presa avesse la figliuola del re di Francia.</p></div>
    </div>


    <div class="text-section" id="text-11">
        <div class="image-icon-wrapper">
            <p>
            <span class="image-icon" data-full="https://cdn.prod.website-files.com/68154893f0097f15b764dc20/68169975cfb70153ec92d0d9_Pinacoteca_del_Castello_Sforzesco_1347.11.jpg" data-caption="This is the caption for the second image">&#x26F6;</span>
        <span class="icon-number">11</span>

        <br>La giovane sposa parve che co’ vestimenti insieme l’animo ed i costumi mutasse. Ella era, come giá dicemmo, di persona e di viso bella, e cosí come bella era, divenne tanto avvenevole, tanto piacevole e tanto costumata, che non figliuola di Giannucolo e guardiana di pecore pareva stata, ma d’alcun nobile signore; di che ella faceva maravigliare ogni uom che prima conosciuta l’avea: ed oltre a questo, era tanto obediente al marito e tanto servente, che egli si teneva il piú contento ed il piú appagato uomo del mondo, e similmente verso i sudditi del marito era tanto graziosa e tanto benigna, che niun ve n’era che piú che sé non l’amasse e che non l’onorasse di buon grado, tutti per lo suo bene e per lo suo stato e per lo suo esaltamento pregando, dicendo, dove dir soleano Gualtieri aver fatto come poco savio d’averla per moglie presa, che egli era il piú savio ed il piú avveduto uomo che al mondo fosse, per ciò che niuno altro che egli avrebbe mai potuto conoscere l’alta vertú di costei nascosa sotto i poveri panni e sotto l’abito villesco. Ed in brieve, non solamente nel suo marchesato ma per tutto, anzi che gran tempo fosse passato, seppe ella sí fare, che ella fece ragionare del suo valore e del suo bene adoperare, ed in contrario rivolgere, se alcuna cosa detta s’era contro al marito per lei quando sposata l’avea.</p></div>
    </div>


    <div class="text-section" id="text-12">
        <div class="image-icon-wrapper">
            <p>
            <span class="image-icon" data-full="https://cdn.prod.website-files.com/68154893f0097f15b764dc20/68169974936df625258e6156_Pinacoteca_del_Castello_Sforzesco_1347.12.jpg" data-caption="This is the caption for the second image">&#x26F6;</span>
        <span class="icon-number">12</span>

        <br>Ella non fu guari con Gualtieri dimorata che ella ingravidò, ed al tempo debito partorí una fanciulla, di che Gualtieri fece gran festa. Ma poco appresso, entratogli un nuovo pensier nell’animo, cioè di volere con lunga esperienza e con cose intollerabili provare la pazienza di lei, primieramente la punse con parole, mostrandosi turbato e dicendo che i suoi uomini pessimamente si contentavano di lei per la sua bassa condizione, e spezialmente poi che vedevano che ella portava figliuoli, e della figliuola che nata era tristissimi, altro che mormorar non faceano. Le quali parole udendo la donna, senza mutar viso o buon proponimento in alcuno atto, disse: — Signor mio, fa’ di me quello che tu credi che piú tuo onore o consolazion sia, ché io sarò di tutto contenta, sí come colei che conosco che io sono da men di loro e che io non era degna di questo onore al quale tu per tua cortesia mi recasti. — Questa risposta fu molto cara a Gualtieri, conoscendo costei non essere in alcuna superbia levata per onore che egli o altri fatto l’avesse.</p></div>
    </div>



    <div class="text-section" id="text-13">
        <div class="image-icon-wrapper">
            <p>
            <span class="image-icon" data-full="https://cdn.prod.website-files.com/68154893f0097f15b764dc20/681699752b10b43b94e2f09e_Pinacoteca_del_Castello_Sforzesco_1347.13.jpg" data-caption="This is the caption for the second image">&#x26F6;</span>
        <span class="icon-number">13</span>

        <br>Poco tempo appresso, avendo con parole generali detto alla moglie che i sudditi non potevan patir quella fanciulla di lei nata,</p></div>
    </div>



    <div class="text-section" id="text-14">
        <div class="image-icon-wrapper">
            <p>
            <span class="image-icon" data-full="https://cdn.prod.website-files.com/68154893f0097f15b764dc20/68169975212928bd854f6db2_Pinacoteca_del_Castello_Sforzesco_1347.14.jpg" data-caption="This is the caption for the second image">&#x26F6;</span>
        <span class="icon-number">14</span>

        <br>informato un suo famigliare, il mandò a lei, il quale con assai dolente viso le disse: — Madonna, se io non voglio morire, a me convien far quello che il mio signor mi comanda. Egli m’ha comandato che io prenda questa vostra figliuola e che io... — e non disse piú. La donna, udendo le parole e veggendo il viso del famigliare, e delle parole dette ricordandosi, comprese che a costui fosse imposto che egli l’uccidesse; per che prestamente, presala della culla e basciatala e benedettala, come che gran noia nel cuor sentisse, senza mutar viso, in braccio la pose al famigliare e dissegli: — Te’, fa’ compiutamente quello che il tuo e mio signore t’ha imposto: ma non la lasciar per modo che le bestie e gli uccelli la divorino, salvo se egli nol ti comandasse. — Il famigliare, presa la fanciulla e fatto a Gualtier sentire ciò che detto aveva la donna, maravigliandosi egli della sua costanza, lui con essa ne mandò a Bologna ad una sua parente, pregandola che, senza mai dire cui figliuola si fosse, diligentemente l’allevasse e costumasse.</p></div>
    </div>



    <div class="text-section" id="text-15">
        <div class="image-icon-wrapper">
            <p>
            <span class="image-icon" data-full="https://cdn.prod.website-files.com/68154893f0097f15b764dc20/68169977d11930a2cac35c74_Pinacoteca_del_Castello_Sforzesco_1347.15.jpg" data-caption="This is the caption for the second image">&#x26F6;</span>
        <span class="icon-number">15</span>

        <br>Sopravvenne appresso che la donna da capo ingravidò, ed al tempo debito partorí un figliuol maschio, il che carissimo fu a Gualtieri; ma non bastandogli quello che fatto avea, con maggior puntura trafisse la donna, e con sembiante turbato un dí le disse: — Donna, poscia che tu questo figliuol maschio facesti, per niuna guisa con questi miei viver son potuto, sí duramente si ramaricano che un nepote di Giannucolo dopo me debba rimaner lor signore; di che io mi dótto, se io non ci vorrò esser cacciato, che non mi ci convenga fare di quello che io altra volta feci, ed alla fine lasciar te e prendere un’altra moglie. — La donna con paziente animo l’ascoltò, né altro rispose se non: — Signor mio, pensa di contentar te e di sodisfare al piacer tuo, e di me non avere pensiero alcuno, per ciò che niuna cosa m’è cara se non quanto io la veggio a te piacere. —</p></div>
    </div>



    <div class="text-section" id="text-16">
        <div class="image-icon-wrapper">
            <p>
            <span class="image-icon" data-full="https://cdn.prod.website-files.com/68154893f0097f15b764dc20/68169977ce49b69b94cae8da_Pinacoteca_del_Castello_Sforzesco_1347.16.jpg" data-caption="This is the caption for the second image">&#x26F6;</span>
        <span class="icon-number">16</span>

        <br>Dopo non molti dí Gualtieri, in quella medesima maniera che mandato aveva per la figliuola, mandò per lo figliuolo, e similmente dimostrato d’averlo fatto uccidere, a nutricar nel mandò a Bologna, come la fanciulla aveva mandata; della qual cosa la donna né altro viso né altre parole fece che della fanciulla fatto avesse, di che Gualtieri si maravigliava forte, e seco stesso affermava, niuna altra femina questo poter fare che ella faceva: e se non fosse che carnalissima de’ figliuoli, mentre gli piacea, la vedeva, lei avrebbe creduto ciò fare per piú non curarsene, dove come savia lei farlo conobbe. I sudditi suoi, credendo che egli uccidere avesse fatti i figliuoli, il biasimavan forte e reputavanlo crudele uomo, ed alla donna avevan grandissima compassione; la quale con le donne le quali con lei de’ figliuoli cosí morti si condoleano, mai altro non disse, se non che quel ne piaceva a lei che a colui che generati gli avea. Ma essendo piú anni passati dopo la nativitá della fanciulla, parendo tempo a Gualtieri di fare l’ultima pruova della sofferenza di costei, con molti de’ suoi disse che per niuna guisa piú sofferir poteva d’aver per moglie Griselda e che egli conosceva che male e giovenilmente aveva fatto quando l’aveva presa, e per ciò a suo potere voleva procacciar col papa che con lui dispensasse che un’altra donna prender potesse e lasciar Griselda; di che egli da assai buoni uomini fu molto ripreso, a che nulla altro rispose, se non che conveniva che cosí fosse. La donna, sentendo queste cose e parendole dovere sperare di ritornare a casa del padre, e forse a guardar le pecore come altra volta aveva fatto, e vedere ad un’altra donna tener colui al quale ella voleva tutto il suo bene, forte in se medesima si dolea: ma pur, come l’altre ingiurie della fortuna aveva sostenute, cosí con fermo viso si dispose a questa dover sostenere.</p></div>
    </div>



    <div class="text-section" id="text-17">
        <div class="image-icon-wrapper">
            <p>
            <span class="image-icon" data-full="https://cdn.prod.website-files.com/68154893f0097f15b764dc20/6816996d936df625258e5ea2_Pinacoteca_del_Castello_Sforzesco_1347.17.jpg" data-caption="This is the caption for the second image">&#x26F6;</span>
        <span class="icon-number">17</span>

        <br>Non dopo molto tempo Gualtieri fece venire sue lettere contraffatte da Roma, e fece veduto a’ suoi sudditi, il papa per quelle aver seco dispensato di poter tôrre altra moglie e lasciar Griselda; per che, fattalasi venir dinanzi, in presenza di molti le disse: — Donna, per concession fattami dal papa io posso altra donna pigliare e lasciar te: e per ciò che i miei passati sono stati gran gentili uomini e signori di queste contrade, dove i tuoi stati son sempre lavoratori, io intendo che tu piú mia moglie non sia, ma che tu a casa Giannucolo te ne torni con la dota che tu mi recasti, ed io poi un’altra, che trovata n’ho convenevole a me, ce ne menerò. — La donna, udendo queste parole, non senza grandissima fatica, oltre alla natura delle femine, ritenne le lagrime, e rispose: — Signor mio, io conobbi sempre la mia bassa condizione alla vostra nobiltá in alcun modo non convenirsi, e quello che io stata son con voi, da Dio e da voi il riconoscea, né mai come donatolmi, mio il feci o tenni, ma sempre l’ebbi come prestatomi; piácevi di rivolerlo, ed a me dée piacere e piace di renderlovi: ecco il vostro anello col quale voi mi sposaste, prendetelo. Comandatemi che io quella dota me ne porti che io ci recai, alla qual cosa fare né a voi pagatore né a me borsa bisognerá né somiere, per ciò che di mente uscito non m’è che ignuda m’aveste: e se voi giudicate onesto che quel corpo nel quale io ho portati figliuoli da voi generati, sia da tutti veduto, io me n’andrò ignuda: ma io vi priego, in premio della mia virginitá che io ci recai e non ne la porto, che almeno una sola camiscia sopra la dota mia vi piaccia che io portarne possa. —</p></div>
    </div>


    <div class="text-section" id="text-18">
        <div class="image-icon-wrapper">
            <p>
            <span class="image-icon" data-full="https://cdn.prod.website-files.com/68154893f0097f15b764dc20/6816996dc6459a395628db58_Pinacoteca_del_Castello_Sforzesco_1347.18.jpg" data-caption="This is the caption for the second image">&#x26F6;</span>
        <span class="icon-number">18</span>

        <br>Gualtieri, che maggior voglia di piagnere aveva che d’altro, stando pur col viso duro, disse: — E tu una camiscia ne porta. — Quanti dintorno v’erano il pregavano che egli una roba le donasse, ché non fosse veduta colei che sua moglie tredici anni o piú era stata, di casa sua cosí poveramente e cosí vituperosamente uscire, come era uscirne in camiscia: ma invano andarono i prieghi; di che la donna in camiscia e scalza e senza alcuna cosa in capo, accomandatigli a Dio, gli uscí di casa ed al padre se ne tornò, con lagrime e con pianto di tutti coloro che la videro. Giannucolo, che creder non avea mai potuto questo esser vero, che Gualtieri la figliuola dovesse tener moglie, ed ognidí questo caso aspettando, guardati l’aveva i panni che spogliati s’avea quella mattina che Gualtieri la sposò;</p></div>
    </div>



    <div class="text-section" id="text-19">
        <div class="image-icon-wrapper">
            <p>
            <span class="image-icon" data-full="https://cdn.prod.website-files.com/68154893f0097f15b764dc20/6816996cee9f0a01142e850c_Pinacoteca_del_Castello_Sforzesco_1347.19.jpg" data-caption="This is the caption for the second image">&#x26F6;</span>
        <span class="icon-number">19</span>

        <br>per che, recatigliele ed ella rivestitiglisi, a’ piccoli servigi della paterna casa si diede sí come far soleva, con forte animo sostenendo il fiero assalto della nemica fortuna. Come Gualtieri questo ebbe fatto, cosí fece veduto a’ suoi che presa aveva una figliuola d’un de’ conti da Panago: e faccendo fare l’appresto grande per le nozze, mandò per la Griselda che a lui venisse; alla quale venuta disse: — Io meno questa donna la quale io ho nuovamente tolta, ed intendo in questa sua prima venuta d’onorarla: e tu sai che io non ho in casa donne che mi sappiano acconciar le camere né fare molte cose che a cosí fatta festa si richeggiono; e per ciò tu, che meglio che altra persona queste cose di casa sai, metti in ordine quello che da far c’è, e quelle donne fa invitar che ti pare, e ricevile come se donna di qui fossi; poi, fatte le nozze, te ne potrai a casa tua tornare. — Come che queste parole fossero tutte coltella al cuor di Griselda, come a colei che non aveva cosí potuto por giú l’amore che ella gli portava come fatto aveva la buona fortuna, rispose: — Signor mio, io son presta ed apparecchiata. —</p></div>
    </div>


    <div class="text-section" id="text-cleaning">
        <p>Ed entratasene co’ suoi pannicelli romagnuoli e grossi in quella casa della qual poco avanti era uscita in camiscia, cominciò a spazzar le camere ed ordinarle, ed a far porre capoletti e pancali per le sale, a fare apprestar la cucina, e ad ogni cosa, come se una piccola fanticella della casa fosse, porre le mani: né mai ristette, che ella ebbe tutto acconcio ed ordinato quanto si conveniva. Ed appresso questo, fatto da parte di Gualtieri invitar tutte le donne della contrada, cominciò ad attender la festa: e venuto il giorno delle nozze, come che i panni avesse poveri indosso, con animo e costume donnesco tutte le donne che a quelle vennero, e con lieto viso, ricevette. Gualtieri, il quale diligentemente aveva i figliuoli fatti allevare in Bologna alla sua parente che maritata era in casa de’ conti da Panago, essendo giá la fanciulla, d’etá di dodici anni, la piú bella cosa che mai si vedesse, ed il fanciullo era di sei, avea mandato a Bologna al parente suo pregando che gli piacesse di dovere con questa sua figliuola e col figliuolo venire a Saluzzo ed ordinare di menar bella ed onorevole compagnia con seco, e di dire a tutti che costei per sua mogliere gli menasse, senza manifestare alcuna cosa ad alcuno chi ella si fosse altramenti.</p>
    </div>



    <div class="text-section" id="text-20">
        <div class="image-icon-wrapper">
            <p>
            <span class="image-icon" data-full="https://cdn.prod.website-files.com/68154893f0097f15b764dc20/6816996cf7a8aada9a8d8973_Pinacoteca_del_Castello_Sforzesco_1347.20.jpg" data-caption="This is the caption for the second image">&#x26F6;</span>
        <span class="icon-number">20</span>

        <br>Il gentile uomo, fatto secondo che il marchese il pregava, entrato in cammino, dopo alquanti dí con la fanciulla e col fratello e con nobile compagnia in su l’ora del desinare giunse a Saluzzo, dove tutti i paesani e molti altri vicini da torno trovò, che attendevan questa novella sposa di Gualtieri. La quale dalle donne ricevuta, e nella sala dove erano messe le tavole venuta, Griselda, cosí come era, le si fece lietamente incontro, dicendo: — Ben venga la mia donna! —</p></div>
    </div>



    <div class="text-section" id="text-arrival">
        <p>Le donne, che molto avevano, ma invano, pregato Gualtieri che o facesse che la Griselda si stesse in una camera o che egli alcuna delle robe che sue erano state le prestasse, acciò che cosí non andasse davanti a’ suoi forestieri, furon messe a tavola e cominciate a servire. La fanciulla era guardata da ogni uomo, e ciascun diceva che Gualtieri aveva fatto buon cambio: ma intra gli altri Griselda la lodava molto, e lei ed il suo fratellino. Gualtieri, al qual pareva pienamente aver veduto quantunque disiderava della pazienza della sua donna, veggendo che di niente la novitá delle cose la cambiava, ed essendo certo, ciò per mentecattaggine non avvenire, per ciò che savia molto la conoscea, gli parve tempo di doverla trarre dell’amaritudine la quale estimava che ella sotto il forte viso nascosa tenesse; per che, fattalasi venire, in presenza d’ogni uomo sorridendo le disse: — Che ti par della nostra sposa? — Signor mio, — rispose Griselda — a me ne par molto bene; e se cosí è savia come ella è bella, che il credo, io non dubito punto che voi non dobbiate con lei vivere il piú consolato signor del mondo: ma quanto posso vi priego che quelle punture, le quali all’altra che vostra fu giá, déste, non diate a questa, ché appena che io creda che ella le potesse sostenere, sí perché piú giovane è, e sí ancora perché in dilicatezze è allevata, ove colei in continue fatiche da piccolina era stata. —</p>
    </div>



    <div class="text-section" id="text-21">
        <div class="image-icon-wrapper">
            <p>
            <span class="image-icon" data-full="https://cdn.prod.website-files.com/68154893f0097f15b764dc20/6816996d4a5d9978b3772242_Pinacoteca_del_Castello_Sforzesco_1347.21.jpg" data-caption="This is the caption for the second image">&#x26F6;</span>
        <span class="icon-number">21</span>

        <br>Gualtieri, veggendo che ella fermamente credeva, costei dovere esser sua moglie, né per ciò in alcuna cosa men che ben parlava, la si fece sedere allato e disse: — Griselda, tempo è omai che tu senta frutto della tua lunga pazienza e che coloro li quali me hanno reputato crudele ed iniquo e bestiale conoscano che ciò che io faceva ad antiveduto fine operava, volendoti insegnar d’esser moglie ed a loro di saperla tenere, ed a me partorire perpetua quiete mentre teco a vivere avessi; il che, quando venni a prender moglie, gran paura ebbi che non m’intervenisse: e per ciò, per pruova pigliarne, in quanti modi tu sai ti punsi e trafissi. E però che io mai non mi sono accorto che in parola né in fatto dal mio piacere partita ti sii, parendo a me aver di te quella consolazione che io disiderava, intendo di rendere a te ad una ora ciò che io tra molte ti tolsi e con somma dolcezza le punture ristorare che io ti diedi: e per ciò con lieto animo prendi questa che tu mia sposa credi, ed il suo fratello, per tuoi e miei figliuoli; essi sono quegli li quali tu e molti altri lungamente stimato avete che io crudelmente uccider facessi, ed io sono il tuo marito, il quale sopra ogni altra cosa t’amo, credendomi poter dar vanto che niuno altro sia che, sí come io, si possa di sua moglier contentare. — E cosí detto, l’abbracciò e basciò, e con lei insieme, la qual d’allegrezza piagnea, levatosi, n’andarono lá dove la figliuola, tutta stupefatta queste cose ascoltando, sedea: ed abbracciatala teneramente, ed il fratello altressí, lei e molti altri che quivi erano sgannarono.</p></div>
    </div>



    <div class="text-section" id="text-22">
        <div class="image-icon-wrapper">
            <p>
            <span class="image-icon" data-full="https://cdn.prod.website-files.com/68154893f0097f15b764dc20/6816996d7ee8c804a2b178d0_Pinacoteca_del_Castello_Sforzesco_1347.22.jpg" data-caption="This is the caption for the second image">&#x26F6;</span>
        <span class="icon-number">22</span>

        <br>Le donne lietissime, levate dalle tavole, con Griselda n’andarono in camera e con migliore agurio trattile i suoi pannicelli, d’una nobile roba delle sue la rivestirono, e come donna, la quale ella eziandio negli stracci pareva, nella sala la rimenarono. E quivi fattasi co’ figliuoli maravigliosa festa, essendo ogni uomo lietissimo di questa cosa, il sollazzo ed il festeggiar multiplicarono ed in piú giorni tirarono: e savissimo reputaron Gualtieri, come che troppo reputassero agre ed intollerabili l’esperienze prese della sua donna, e sopra tutti savissima tenner Griselda.</p></div>
    </div>



    <div class="text-section" id="text-23">
        <div class="image-icon-wrapper">
            <p>
            <span class="image-icon" data-full="https://cdn.prod.website-files.com/68154893f0097f15b764dc20/6816996e936df625258e5efc_Pinacoteca_del_Castello_Sforzesco_1347.24.jpg" data-caption="This is the caption for the second image">&#x26F6;</span>
        <span class="icon-number">23</span>

        <br>Il conte da Panago si tornò dopo alquanti dí a Bologna, e Gualtieri, tolto Giannucolo dal suo lavorío, come suocero il pose in istato che egli onoratamente e con gran consolazione visse e finí la sua vecchiezza.</p></div>
    </div>



    <div class="text-section" id="text-24">
    <div class="image-icon-wrapper">
        <p>
        <span class="image-icon" data-full="https://cdn.prod.website-files.com/68154893f0097f15b764dc20/6816996e5595550135306d24_Pinacoteca_del_Castello_Sforzesco_1347.23.jpg" data-caption="This is the caption for the last image">&#x26F6;</span>
    <span class="icon-number">24</span>

    <br>Ed egli appresso, maritata altamente la sua figliuola, con Griselda, onorandola sempre quanto piú si potea, lungamente e consolato visse.</p></div>
</div>


<div class="text-section" id="text-moral">
    <p>Che si potrà dir qui, se non che anche nelle povere case piovono dal cielo de’ divini spiriti, come nelle reali di quegli che sarien piú degni di guardar porci che d’avere sopra uomini signoria? Chi avrebbe altri che Griselda potuto col viso non solamente asciutto ma lieto sofferir le rigide e mai piú non udite pruove da Gualtier fatte? Al quale non sarebbe forse stato male investito d’essersi abbattuto ad una che, quando fuor di casa l’avesse in camiscia cacciata, s’avesse sí ad uno altro fatto scuotere il pilliccione, che riuscito ne fosse una bella roba.</p>
</div>


<!-- Lightbox container (one per page) -->
<div id="lightbox" class="lightbox">
    <span class="close-lightbox">&times;</span>
    
    <div class="lightbox-img-wrapper">
        <img class="lightbox-img" src="">
    </div>
    
    <div class="lightbox-caption"></div>
</div>

</div>

<script>
/* ---------------------------------------------------
   1. GLOBAL VARIABLES & SETUP
----------------------------------------------------*/
const slides = document.getElementById("slides");
// Get originals before cloning
const slideElements = Array.from(document.querySelectorAll(".slide"));
let currentSlide = 1; 

// --- CLONE SETUP (Infinite Loop) ---
const totalSlides = slideElements.length;
const firstClone = slideElements[0].cloneNode(true);
const lastClone = slideElements[totalSlides - 1].cloneNode(true);

slides.appendChild(firstClone);
slides.insertBefore(lastClone, slides.firstChild);

// Re-query to get all slides (Originals + Clones)
const allSlides = Array.from(document.querySelectorAll(".slide"));

// Apply widths
slides.style.width = `${allSlides.length * 100}%`;
allSlides.forEach(slide => slide.style.width = `${100 / allSlides.length}%`);

// Initial Jump to Slide 1
slides.style.transform = `translateX(-${currentSlide * (100 / allSlides.length)}%)`;


/* ---------------------------------------------------
   2. STATE FLAGS
----------------------------------------------------*/
let isManualScrollAction = false; // Is the user clicking?
let targetSectionId = null;       // Which text are we scrolling to?
let isSliding = false;            // Is the slide currently animating?


/* ---------------------------------------------------
   3. CORE SLIDING ENGINE (The "Smart" Mover)
----------------------------------------------------*/
// This helper function handles ALL movement. 
// It fixes the "Clone Jump" automatically.
function goToSlide(targetIndex, force = false) {
    
    // If locked by animation and not forced, wait.
    if (isSliding && !force) return;

    // --- SMART CLONE FIX ---
    // If we are currently on a Clone (0 or Last+1), and we need to move,
    // we instantly snap to the Real slide first to avoid "flying backwards".
    if (currentSlide === 0) {
        slides.style.transition = 'none';
        currentSlide = totalSlides;
        slides.style.transform = `translateX(-${currentSlide * (100 / allSlides.length)}%)`;
        void slides.offsetWidth; // Force browser to paint
    } else if (currentSlide === totalSlides + 1) {
        slides.style.transition = 'none';
        currentSlide = 1;
        slides.style.transform = `translateX(-${currentSlide * (100 / allSlides.length)}%)`;
        void slides.offsetWidth;
    }
    // -----------------------

    // Now perform the smooth move
    if (currentSlide !== targetIndex) {
        isSliding = true; // Lock arrows
        currentSlide = targetIndex;
        
        slides.style.transition = 'transform 0.45s ease';
        slides.style.transform = `translateX(-${currentSlide * (100 / allSlides.length)}%)`;
        
        updateDots();

        // Unlock after animation finishes
        setTimeout(() => { isSliding = false; }, 450);
    }
}


/* ---------------------------------------------------
   4. NAVIGATION (Arrows & Dots)
----------------------------------------------------*/
function nextSlide() { goToSlide(currentSlide + 1); }
function prevSlide() { goToSlide(currentSlide - 1); }

document.getElementById("prevArrow").onclick = prevSlide;
document.getElementById("nextArrow").onclick = nextSlide;

// Dots
const dotsContainer = document.getElementById("slideshow-dots");
const dots = [];

for (let i = 0; i < totalSlides; i++) {
    const dot = document.createElement("div");
    dot.classList.add("slideshow-dot");
    dot.addEventListener("click", () => {
        // Dot clicks are "Forced" navigation
        goToSlide(i + 1, true); 
    });
    dotsContainer.appendChild(dot);
    dots.push(dot);
}

function updateDots() {
    if (dots.length === 0) return;
    let visualIndex = currentSlide - 1;
    // Fix index for clones
    if (visualIndex < 0) visualIndex = totalSlides - 1;
    if (visualIndex >= totalSlides) visualIndex = 0;

    dots.forEach((dot, index) =>
        dot.classList.toggle("active", index === visualIndex)
    );
}
updateDots();


/* ---------------------------------------------------
   5. INFINITE LOOP RESET (Transition End)
----------------------------------------------------*/
slides.addEventListener('transitionend', () => {
    // Silent Snap when reaching edges
    if (currentSlide === 0) {
        slides.style.transition = 'none';
        currentSlide = totalSlides; 
        slides.style.transform = `translateX(-${currentSlide * (100 / allSlides.length)}%)`;
    }
    if (currentSlide === totalSlides + 1) {
        slides.style.transition = 'none';
        currentSlide = 1;
        slides.style.transform = `translateX(-${currentSlide * (100 / allSlides.length)}%)`;
    }
    isSliding = false;
});


/* ---------------------------------------------------
   6. TOUCH SWIPE
----------------------------------------------------*/
let touchStartX = 0;
function attachSwipe(el) {
    el.addEventListener("touchstart", (e) => { touchStartX = e.touches[0].clientX; }, { passive: true });
    el.addEventListener("touchend", (e) => {
        if(isSliding) return;
        let diff = e.changedTouches[0].clientX - touchStartX;
        if (Math.abs(diff) > 50) {
            if (diff < 0) nextSlide();
            else prevSlide();
        }
    });
}
attachSwipe(document.querySelector(".left-panel"));
attachSwipe(slides);


/* ---------------------------------------------------
   7. CLICK INTERACTION (The "Instant Response" Fix)
----------------------------------------------------*/
document.querySelectorAll(".img-wrapper").forEach(wrapper => {
    const img = wrapper.querySelector("img");

    wrapper.addEventListener("click", () => {
        const targetId = img.dataset.target;
        const section = document.getElementById(targetId);
        
        if (!section) return;

        // A. LOCK THE SYSTEM
        // We tell the Observer: "Ignore everything until we reach this specific text ID"
        isManualScrollAction = true;
        targetSectionId = targetId; 

        // B. UPDATE VISUALS (Yellow Box + Remove Cover)
        document.querySelectorAll('.img-number').forEach(num => num.classList.remove('active-number'));
        
        // Find ALL copies of this image (Real + Clones)
        const allMatchingImages = document.querySelectorAll(`img[data-target="${targetId}"]`);
        allMatchingImages.forEach(matchingImg => {
            matchingImg.classList.add("clicked");
            const overlay = matchingImg.nextElementSibling;
            if (overlay && overlay.classList.contains('img-overlay')) {
                overlay.style.opacity = 0;
            }
            const badge = matchingImg.closest('.img-wrapper').querySelector('.img-number');
            if (badge) badge.classList.add('active-number');
        });

        // C. MOVE SLIDESHOW IMMEDIATELY (Force Move)
        // We don't wait for scrolling. We move NOW.
        // We find the parent slide of the clicked image.
        const parentSlide = img.closest('.slide');
        // We must find the index of this slide in the 'allSlides' array.
        // Note: 'img' might be inside a Clone if the user clicked a Clone. 
        // That is fine! The logic handles it.
        const targetIndex = allSlides.indexOf(parentSlide);
        
        if (targetIndex !== -1) {
            // Force the move (pass 'true') so it interrupts any current animation
            goToSlide(targetIndex, true); 
        }

        // D. SCROLL THE TEXT
        section.scrollIntoView({ behavior: "smooth", block: "start" });

        // E. SAFETY TIMEOUT
        // If the scroll gets stuck or interrupted, unlock eventually.
        setTimeout(() => {
            if (targetSectionId === targetId) {
                isManualScrollAction = false;
                targetSectionId = null;
            }
        }, 3000);
    });
});


/* ---------------------------------------------------
   8. LIGHTBOX (ZOOM & PAN)
----------------------------------------------------*/
const lightbox = document.getElementById("lightbox");
const lightboxWrapper = document.querySelector(".lightbox-img-wrapper"); // Select the new wrapper
const lightboxImg = document.querySelector(".lightbox-img");
const lightboxCaption = document.querySelector(".lightbox-caption");
const closeBtn = document.querySelector(".close-lightbox");

// A. Open Lightbox
document.querySelectorAll(".image-icon").forEach(icon => {
    icon.addEventListener("click", () => {
        lightboxImg.src = icon.dataset.full;
        lightboxCaption.textContent = icon.dataset.caption;
        
        // Reset zoom state every time we open a new image
        lightboxWrapper.classList.remove("zoomed");
        lightboxImg.style.transform = "scale(1)";
        
        lightbox.style.display = "flex";
    });
});

// B. Close Lightbox Function
function closeBox() {
    lightbox.style.display = "none";
    // Reset zoom on close to be safe
    lightboxWrapper.classList.remove("zoomed");
    lightboxImg.style.transform = "scale(1)";
}

closeBtn.onclick = closeBox;
document.addEventListener("keydown", e => { if (e.key === "Escape") closeBox(); });

// Close if clicking the dark background (but not the image wrapper)
lightbox.addEventListener("click", e => { 
    if (e.target === lightbox) closeBox(); 
});


// C. ZOOM & PAN LOGIC
// 1. Toggle Zoom on Click
lightboxWrapper.addEventListener("click", (e) => {
    // Prevent the click from closing the lightbox (bubbling)
    e.stopPropagation();

    if (lightboxWrapper.classList.contains("zoomed")) {
        // ZOOM OUT
        lightboxWrapper.classList.remove("zoomed");
        lightboxImg.style.transform = "scale(1)";
        lightboxImg.style.transformOrigin = "center center";
    } else {
        // ZOOM IN
        lightboxWrapper.classList.add("zoomed");
        lightboxImg.style.transform = "scale(2.5)"; // Match CSS scale
        
        // Immediately set pan position based on where user clicked
        panImage(e);
    }
});

// 2. Pan on Mouse Move
lightboxWrapper.addEventListener("mousemove", (e) => {
    if (lightboxWrapper.classList.contains("zoomed")) {
        panImage(e);
    }
});

// 3. Helper Function to calculate Pan
function panImage(e) {
    // Get dimensions of the wrapper
    const rect = lightboxWrapper.getBoundingClientRect();
    
    // Calculate mouse position relative to the wrapper (0 to 100%)
    const x = e.clientX - rect.left;
    const y = e.clientY - rect.top;
    
    const xPercent = (x / rect.width) * 100;
    const yPercent = (y / rect.height) * 100;
    
    // Move the transform origin. 
    // This allows us to "see" the part of the image we are hovering over.
    lightboxImg.style.transformOrigin = `${xPercent}% ${yPercent}%`;
}


/* ---------------------------------------------------
   9. SCROLLYTELLING (The Observer)
----------------------------------------------------*/
const observerOptions = {
    root: document.getElementById('textPanel'),
    rootMargin: '-10% 0px -85% 0px', 
    threshold: 0
};

const observer = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
        if (entry.isIntersecting) {
            handleTextIntersection(entry.target.id);
        }
    });
}, observerOptions);

document.querySelectorAll('.text-section').forEach(section => {
    observer.observe(section);
});


function handleTextIntersection(textId) {
    
    // --- TARGET LOCK LOGIC ---
    // If we are scrolling via click, IGNORE everything until we hit the target.
    if (isManualScrollAction) {
        if (textId === targetSectionId) {
            isManualScrollAction = false; // We arrived! Unlock.
            targetSectionId = null;
        } else {
            return; // Ignore intermediate sections
        }
    }

    // --- NORMAL LOGIC (Manual Scrolling) ---
    
    // 1. Find the Real Image linked to this text
    let realTargetImg = null;
    for (let slide of slideElements) { // Look in 'slideElements' (Originals only)
        const found = slide.querySelector(`img[data-target="${textId}"]`);
        if (found) {
            realTargetImg = found;
            break; 
        }
    }

    // 2. Handle "No Image" Sections (Intro, Moral, etc.)
    if (!realTargetImg) {
        document.querySelectorAll('.active-number').forEach(num => num.classList.remove('active-number'));
        return; 
    }

    // 3. Move Slideshow (if needed)
    const parentSlide = realTargetImg.closest('.slide');
    const targetIndex = allSlides.indexOf(parentSlide);
    
    if (targetIndex !== -1) {
        goToSlide(targetIndex); // Let the helper handle the move
    }

    // 4. Update Visuals (Highlights + Covers)
    document.querySelectorAll('.img-number').forEach(num => num.classList.remove('active-number'));

    const allMatchingImages = document.querySelectorAll(`img[data-target="${textId}"]`);
    allMatchingImages.forEach(img => {
        img.classList.add("clicked");
        const overlay = img.nextElementSibling;
        if (overlay && overlay.classList.contains('img-overlay')) {
            overlay.style.opacity = '0';
        }
        const badge = img.closest('.img-wrapper').querySelector('.img-number');
        if (badge) badge.classList.add('active-number');
    });
}

/* ---------------------------------------------------
   10. TRACKPAD / MOUSE WHEEL HORIZONTAL SWIPE
----------------------------------------------------*/
const swipeContainer = document.querySelector(".left-panel");
let lastWheelTime = 0;
const wheelCooldown = 500; // Time in ms to wait before accepting another swipe

swipeContainer.addEventListener("wheel", (e) => {
    // 1. Check if the movement is Horizontal
    // We compare deltaX (horizontal) vs deltaY (vertical).
    // If deltaX is bigger, the user is trying to swipe sideways.
    if (Math.abs(e.deltaX) > Math.abs(e.deltaY)) {
        
        // 2. Prevent browser 'Back/Forward' history navigation
        e.preventDefault();

        // 3. Check Cooldown
        // If we recently switched slides, ignore this event.
        const now = Date.now();
        if (now - lastWheelTime < wheelCooldown || isSliding) return;

        // 4. Detect Direction & Trigger
        // Threshold of 30 prevents tiny accidental jitters
        if (e.deltaX > 30) {
            nextSlide();
            lastWheelTime = now;
        } else if (e.deltaX < -30) {
            prevSlide();
            lastWheelTime = now;
        }
    }
}, { passive: false });

</script>


</body>
</html>
